{"version":3,"sources":["components/Header/logo.png","components/Header/index.js","containers/PageList/index.js","containers/Detail/index.js","components/Login/index.js","containers/Vip/index.js","index.js"],"names":["module","exports","__webpack_require__","p","AppHeader","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","menuList","map","item","react_default","a","createElement","menu","Item","key","id","Link","to","concat","icon","type","title","_this2","axios","get","then","res","setState","data","react","src","logo","className","alt","mode","getMenuList","Component","PageList","newsList","nextProps","getNewsList","match","params","url","list","style","background","bordered","dataSource","locale","emptyText","renderItem","Detail","content","card","dangerouslySetInnerHTML","__html","Login","login","modal","userName","passWord","showModal","bind","assertThisInitialized","hideModal","changeUserName","changePassWord","checkLogin","logout","e","target","value","_this$state","withCredentials","message","success","error","_this3","history","push","_this4","es_button","onClick","visible","onOk","onCancel","input","placeholder","onChange","withRouter","Vip","fetchFinsh","Redirect","Header","Layout","Footer","Content","App","BrowserRouter","layout","src_Header","components_Login","Switch","Route","path","component","ReactDom","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.72442845.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1e5fb683.png\";","import React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom'\nimport { Menu, Icon } from 'antd';\nimport logo from './logo.png';\nimport './style.css';\nimport axios from 'axios'\n\nclass AppHeader extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      menuList:[]\n    }\n  }\n  getMenuList() {\n    return this.state.menuList.map(item => {\n      return (\n          <Menu.Item key={item.id}>\n            <Link to={`/${item.id}`}>\n              <Icon type={item.icon} />{item.title}\n            </Link>\n          </Menu.Item>\n      )\n    })\n  }\n\n  componentDidMount() {\n    axios.get('http://www.dell-lee.com/react/api/header.json')\n      .then(res => {\n        this.setState({\n          menuList: res.data.data\n        })\n      })\n  }\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n        <Link to=\"/\">\n          <img src={logo} className='app-header-logo' alt='logo'/>\n        </Link>\n\t\t\t\t<Menu mode=\"horizontal\" className='app-header-menu'>\n          { this.getMenuList() }\n\t      </Menu>\n      </Fragment>\n\t\t)\n\t}\n}\n\nexport default AppHeader;","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { List } from 'antd'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass PageList extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      newsList:[]\r\n    }\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.getNewsList(nextProps.match.params.id)\r\n  }\r\n\r\n  // shouldComponentUpdate() {\r\n  //   return false  // return false 组件就不更新了\r\n  // }\r\n  // componentWillUpdate(){\r\n  //   // this.getNewsList() 这里获取数据 会无线循环\r\n  // }\r\n  getNewsList(id) {\r\n    let url = 'http://www.dell-lee.com/react/api/list.json'\r\n    if(id) {\r\n      url += '?id=' + id\r\n    } else {\r\n      url += '?id=1'\r\n    }\r\n    axios.get(url).then(res => {\r\n      this.setState({\r\n        newsList: res.data.data\r\n      })\r\n    })\r\n  }\r\n  componentDidMount() {\r\n    // console.log(this.props) undefined\r\n    this.getNewsList(this.props.match.params.id)\r\n  }\r\n  render() {\r\n    return (\r\n      <List\r\n        style={{background:'#fff'}}\r\n        bordered\r\n        dataSource={this.state.newsList}\r\n        locale={{emptyText:''}} // 不显示no-data\r\n        renderItem={item => (\r\n          <List.Item>\r\n            <Link to={`/detail/${item.id}`}>{item.title}</Link>\r\n          </List.Item>\r\n        )}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default PageList","import React, { Component } from 'react'\r\nimport { Card } from 'antd'\r\nimport axios from 'axios'\r\nimport './style.css'\r\n\r\n\r\nclass Detail extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      title:'',\r\n      content:''\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id\r\n    axios.get('http://www.dell-lee.com/react/api/detail.json?id=' + id)\r\n      .then(res => {\r\n        const data = res.data.data\r\n        this.setState(data) // 匹配state里同名的属性 或者添加不存在的属性 不会修改其他的 这里不是什么解构赋值 就是setState自己的语法\r\n      })\r\n  }\r\n  render() {\r\n    return (\r\n      <Card title={this.state.title}>\r\n        <div className=\"detail-content\" dangerouslySetInnerHTML={{__html:this.state.content}}></div>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Detail","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { Button, Modal, Input, message } from 'antd'\r\nimport './style.css'\r\nimport { withRouter, Link } from 'react-router-dom'\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      login: false,\r\n      modal: false,\r\n      userName: '',\r\n      passWord: ''\r\n    }\r\n    this.showModal = this.showModal.bind(this);\r\n\t\tthis.hideModal = this.hideModal.bind(this);\r\n\t\tthis.changeUserName = this.changeUserName.bind(this);\r\n\t\tthis.changePassWord = this.changePassWord.bind(this);\r\n    this.checkLogin = this.checkLogin.bind(this);\r\n    this.logout = this.logout.bind(this)\r\n  }\r\n  showModal() {\r\n    this.setState({\r\n      modal: true\r\n    })\r\n  }\r\n  hideModal() {\r\n    this.setState({\r\n      modal: false\r\n    })\r\n  }\r\n  changeUserName(e) {\r\n    this.setState({\r\n      userName: e.target.value\r\n    })\r\n  }\r\n  changePassWord(e) {\r\n    this.setState({\r\n      passWord: e.target.value\r\n    })\r\n  }\r\n  checkLogin() {\r\n    const { userName, passWord } = this.state\r\n    const url = `http://www.dell-lee.com/react/api/login.json?user=${userName}&password=${passWord}`;\r\n    axios.get(url,{\r\n      withCredentials:true\r\n    }).then(res => {\r\n      const login = res.data.data.login\r\n      if (login) {\r\n        message.success('登录成功')\r\n        this.hideModal()\r\n        this.setState({login})\r\n      } else {\r\n        message.error('登录失败')\r\n      }\r\n    })\r\n  }\r\n  logout() {\r\n    axios.get('http://www.dell-lee.com/react/api/logout.json', {\r\n\t\t\twithCredentials: true\r\n\t\t}).then(res => {\r\n      const logout = res.data.data.logout\r\n      if(logout) {\r\n        this.setState({login:false})\r\n        this.props.history.push('/'); // 也可以在button上加link 但是无法确认登出成功后再跳转\r\n      }\r\n    })\r\n  }\r\n  componentDidMount() {\r\n    axios.get('http://www.dell-lee.com/react/api/isLogin.json', {\r\n\t\t\twithCredentials: true\r\n\t\t}).then(res => {\r\n      const login = res.data.data.login\r\n      this.setState({login})\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"login\">\r\n        {\r\n          this.state.login ? <Button type=\"primary\" onClick={this.logout}>退出</Button> :\r\n                             <Button type=\"primary\" onClick={this.showModal}>登录</Button>\r\n                  \r\n        }\r\n        <Link to='/vip'>\r\n          <Button type=\"primary\" className='vipBtn'>Vip</Button>\r\n        </Link>\r\n        \r\n        <Modal title=\"登录\" visible={this.state.modal} onOk={this.checkLogin} onCancel={this.hideModal}>\r\n          <Input className=\"input\" placeholder=\"请输入用户名\" value={this.state.userName} onChange={this.changeUserName}/>\r\n          <Input className=\"input\" placeholder=\"请输入密码\" value={this.state.passWord} type=\"password\" onChange={this.changePassWord}/>\r\n        </Modal>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Login)","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport './style.css'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nclass Vip extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n     login: true, // 如果一开始设为false 则会直接redirect到首页\r\n     fetchFinsh: false\r\n    }\r\n  }\r\n  \r\n  componentWillMount() {\r\n    // console.log(1)  axios是异步的 所以不能保证在render() 执行之前修改state的值\r\n    axios.get('http://www.dell-lee.com/react/api/isLogin.json', {\r\n\t\t\twithCredentials: true\r\n\t\t}).then(res => {\r\n      const login = res.data.data.login\r\n      this.setState({\r\n        login,\r\n        fetchFinsh: true\r\n      })\r\n      \r\n    })\r\n  }\r\n  render() {\r\n    // console.log(2)\r\n    if(this.state.login) {\r\n      if(this.state.fetchFinsh) {\r\n        return <div className='vip'>Vip</div>\r\n      } else {\r\n        return <div className='vip'>正在判断登录状态</div>\r\n      }\r\n    } else {\r\n      return (\r\n        <Redirect to='/'/>\r\n      )\r\n    }\r\n  }\r\n  \r\n\r\n}\r\n\r\nexport default Vip","import React, { Component } from 'react';\nimport ReactDom from 'react-dom';\nimport { BrowserRouter,Route,Switch } from 'react-router-dom'\nimport { Layout } from 'antd';\nimport AppHeader from './components/Header/';\nimport 'antd/dist/antd.css';\nimport './style.css';\nimport PageList from './containers/PageList'\nimport Detail from './containers/Detail'\nimport Login from './components/Login/';\nimport Vip from './containers/Vip/'\n\nconst { Header, Footer, Content } = Layout;\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n      <BrowserRouter>\n        <Layout className=\"layout\">\n          <Header className=\"header\">\n            <AppHeader />\n          </Header>\n          <Login />\n          <Content className=\"content\">\n              <Switch>\n                <Route path='/detail/:id' component={ Detail }/>\n                <Route path='/vip' component={ Vip } />\n                <Route path='/:id?' component={ PageList }/>\n              </Switch>\n          </Content>\n          <Footer className=\"footer\">@Copyright</Footer>\n        </Layout>\n      </BrowserRouter>\n\t\t)\n\t}\n}\n\n\nReactDom.render(<App />, document.getElementById('root'));"],"sourceRoot":""}